{"version":3,"sources":["..\\..\\..\\..\\assets\\scripts/assets\\scripts\\launch.js"],"names":["cc","Class","extends","Component","properties","display","Sprite","onLoad","left","node","getChildByName","right","shutdown","start","tex","Texture2D","active","onClick","wx","postMessage","message","setTimeout","showButtons","onClickLeft","onClickRight","onClickShutDown","hideButtons","visible","_updaetSubDomainCanvas","sharedCanvas","getOpenDataContext","canvas","initWithElement","handleLoadedTexture","spriteFrame","SpriteFrame","update"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,iBAASL,GAAGM;AADJ,KAHP;;AAOLC,UAPK,oBAOG;AACJ,aAAKC,IAAL,GAAY,KAAKH,OAAL,CAAaI,IAAb,CAAkBC,cAAlB,CAAiC,MAAjC,CAAZ;AACA,aAAKC,KAAL,GAAa,KAAKN,OAAL,CAAaI,IAAb,CAAkBC,cAAlB,CAAiC,OAAjC,CAAb;AACA,aAAKE,QAAL,GAAgB,KAAKP,OAAL,CAAaI,IAAb,CAAkBC,cAAlB,CAAiC,UAAjC,CAAhB;AACH,KAXI;AAaLG,SAbK,mBAaI;AACL,aAAKC,GAAL,GAAW,IAAId,GAAGe,SAAP,EAAX;;AAEA;AACA,aAAKP,IAAL,CAAUQ,MAAV,GAAmB,KAAnB;AACA,aAAKL,KAAL,CAAWK,MAAX,GAAoB,KAApB;AACA,aAAKJ,QAAL,CAAcI,MAAd,GAAuB,KAAvB;AACH,KApBI;;;AAsBL;AACAC,WAvBK,qBAuBM;AAAA;;AACP;AACAC,WAAGC,WAAH,CAAe;AACXC,qBAAS;AADE,SAAf;;AAIA;AACAC,mBAAW,YAAM;AACb,kBAAKC,WAAL;AACH,SAFD,EAEG,IAFH;AAIH,KAlCI;;;AAoCL;AACAC,iBAAY,uBAAU;AAClBL,WAAGC,WAAH,CAAe;AACXC,qBAAQ;AADG,SAAf;AAGH,KAzCI;;AA2CL;AACAI,kBAAa,wBAAU;AACnBN,WAAGC,WAAH,CAAe;AACXC,qBAAQ;AADG,SAAf;AAGH,KAhDI;;AAkDL;AACAK,qBAAgB,2BAAU;AACtBP,WAAGC,WAAH,CAAe;AACXC,qBAAQ;AADG,SAAf;AAGA,aAAKM,WAAL;AACH,KAxDI;;AA0DL;AACAA,iBAAY,uBAAU;AAClB,aAAKf,KAAL,CAAWK,MAAX,GAAoB,KAApB;AACA,aAAKJ,QAAL,CAAcI,MAAd,GAAuB,KAAvB;AACA,aAAKR,IAAL,CAAUQ,MAAV,GAAmB,KAAnB;AACA,aAAKL,KAAL,CAAWgB,OAAX,GAAqB,KAArB;AACA,aAAKf,QAAL,CAAce,OAAd,GAAwB,KAAxB;AACA,aAAKnB,IAAL,CAAUmB,OAAV,GAAoB,KAApB;AACH,KAlEI;;AAoEL;AACAL,iBAAY,uBAAU;AAClB,aAAKX,KAAL,CAAWK,MAAX,GAAoB,IAApB;AACA,aAAKJ,QAAL,CAAcI,MAAd,GAAuB,IAAvB;AACA,aAAKR,IAAL,CAAUQ,MAAV,GAAmB,IAAnB;AACA,aAAKL,KAAL,CAAWgB,OAAX,GAAqB,IAArB;AACA,aAAKf,QAAL,CAAce,OAAd,GAAwB,IAAxB;AACA,aAAKnB,IAAL,CAAUmB,OAAV,GAAoB,IAApB;AACH,KA5EI;;AA8EL;AACAC,0BA/EK,oCA+EqB;AACtB,YAAI,CAAC,KAAKd,GAAV,EAAe;AACX;AACH;AACD,YAAIe,eAAeX,GAAGY,kBAAH,GAAwBC,MAA3C;AACA,aAAKjB,GAAL,CAASkB,eAAT,CAAyBH,YAAzB;AACA,aAAKf,GAAL,CAASmB,mBAAT;AACA,aAAK5B,OAAL,CAAa6B,WAAb,GAA2B,IAAIlC,GAAGmC,WAAP,CAAmB,KAAKrB,GAAxB,CAA3B;AACH,KAvFI;AAyFLsB,UAzFK,oBAyFK;AACN,aAAKR,sBAAL;AACH;AA3FI,CAAT","file":"launch.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        display: cc.Sprite,\n    },\n\n    onLoad(){\n        this.left = this.display.node.getChildByName('left')\n        this.right = this.display.node.getChildByName('right')\n        this.shutdown = this.display.node.getChildByName('shutdown')\n    },\n\n    start () {\n        this.tex = new cc.Texture2D();\n\n        //按键初始化为不可用状态\n        this.left.active = false\n        this.right.active = false\n        this.shutdown.active = false\n    },\n\n    //点击排行榜\n    onClick () {\n        // 发消息给子域\n        wx.postMessage({\n            message: 'Show'\n        })\n\n        //1秒之后再显示按键\n        setTimeout(() => {\n            this.showButtons()\n        }, 1000);\n\n    },\n\n    //点击上一页按钮\n    onClickLeft:function(){\n        wx.postMessage({\n            message:'Left'\n        })\n    },\n\n    //点击下一页按钮\n    onClickRight:function(){\n        wx.postMessage({\n            message:'Right'\n        })\n    },\n\n    //点击关闭按钮\n    onClickShutDown:function(){\n        wx.postMessage({\n            message:'Hide'\n        })\n        this.hideButtons()\n    },\n\n    //隐藏上一页下一页和关闭按钮\n    hideButtons:function(){\n        this.right.active = false\n        this.shutdown.active = false\n        this.left.active = false\n        this.right.visible = false\n        this.shutdown.visible = false\n        this.left.visible = false\n    },\n\n    //显示上一页下一页和关闭按钮\n    showButtons:function(){\n        this.right.active = true\n        this.shutdown.active = true\n        this.left.active = true\n        this.right.visible = true\n        this.shutdown.visible = true\n        this.left.visible = true\n    },\n\n    //实时刷新画布内容\n    _updaetSubDomainCanvas () {\n        if (!this.tex) {\n            return;\n        }\n        let sharedCanvas = wx.getOpenDataContext().canvas;\n        this.tex.initWithElement(sharedCanvas);\n        this.tex.handleLoadedTexture();\n        this.display.spriteFrame = new cc.SpriteFrame(this.tex);\n    },\n\n    update () {\n        this._updaetSubDomainCanvas()\n    }\n\n});\n"]}